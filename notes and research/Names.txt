When getName() is called from NameModule, it should not handle any of the name generation functions, only call the responsible functions.
In fact, getName shouldn't be a part of the module anyway since that function will be almost universal. 
All the module button needs to do is pass the current and previous token objects to the external getName() and wait on a response
Once a name object comes back, decide whether to update the name on state as per the user's settings

currentTokens: [
  ['earth', 'artifice'],
  ['evil', 'flowery', 'domestic']
]
previousTokens: [
  ['magic', 'holy'],
  ['flowery', 'death', 'subordinate']
]

Name Object: {
  // should name object be language agnostic?
  first: 'cave',
  last1: 'cloister',
  last2: 'spear'
}



              -----------------------
              NAME STRUCTURE ANALYSIS
              -----------------------
==DWARVES==
  Litast ònuludar, "Torch Mirror Rained"
  first: noun0/noun1
  last1: noun0 verb0
  last2: verb2 verb3
  Erush Gingoltar, "Handle Young Gilt"
  first: noun0/noun1
  last1: verb0
  last2: verb2 verb3
  Olon Rosatoddom, "Gear Chapel Cloistered"
  first: noun0/noun1
  last1: noun0
  last2: verb2 verb3
  Doren Oslanetur, "Diamond Wind Boulder"
  first: noun0/noun1 adj0
  last1: verb0
  last2: 
  Minkot Ensebtobul, "Corridor Basis Canyon"
  first: 
  last1: 
  last2: 
  Sigun Limâreshtân, "Tour Wealthy Smiths"
  first: 
  last1: 
  last2: 
  Uzol Kaboddom, "Oil Name Cloistered"
  first: 
  last1: 
  last2: 
  Thîkut Odsazir, "Book Limb Bridge"
  first: 
  last1: 
  last2: 
  Olin Zonnunok, "Tongs Helm Numbers"
  first: 
  last1: 
  last2: 
  Såkzul Nosingnish, "Trumpet Brush Trades"
  first: 
  last1: 
  last2: 
  Solon Alåthilral, "Flag Bolted Treaty"
  first: 
  last1: 
  last2: 
  Zulban Tanfikod, "Banner Ticked Glazed"
  first: 
  last1: 
  last2: 
  Etur Ostarkeskal, "Boulder Burial Shoot"
  first: 
  last1: 
  last2: 
  Cog Äszes, "Boot Cave Brands"
  first: 
  last1: 
  last2: 
  Inod Nulralsazir, "Gate Stable Bridged"
  first: 
  last1: 
  last2: 
  Ushat Lirukoslan, "Basement Violent Wind"
  first: 
  last1: 
  last2: 
  Mestthos ïngizèrnam, "Citadel Ceiling Modest"
  first: 
  last1: 
  last2: 
  Urvad Oltarkegeth, "Seal Gilt Holds"
  first: 
  last1: 
  last2: 
  Udib Likotabsam, "Syrup Ink Searched"
  first: 
  last1: 
  last2: 
  Zutthan Bardumolin, "Treasury Fight Tongs"
  first: 
  last1: 
  last2: 
  Bëmbul Stâkudònul, "Mechanism Machine Mirrored"
  first: 
  last1: 
  last2: 
  Sibrek Zoncuggán, "Salve Helmed Sand"
  first: 
  last1: 
  last2: 
  Catten Mesiredëm, "Channel Shower Keys"
  first: 
  last1: 
  last2: 
  ïteb Ukerled, "Post Wave Racks"
  first: 
  last1: 
  last2: 
  Dôbar Anrizolin, "Creation Sky Tongs"
  first: 
  last1: 
  last2: 
  Deduk Besmarzokun, "Manor Pulley Sieges"
  first: 
  last1: 
  last2: 
  Dastot Uristnakuth, "Sword Dagger Braid"
  first: 
  last1: 
  last2: 
  Kadôl Cattensodel, "Gem Channel Shields
  first: 
  last1: 
  last2: 
  Itlud Sughonu, "Bin Tire Blunts" - Human
  first: 
  last1: 
  last2: 
  Catten Sodelûthir, "Channel Shield Sear"
  first: 
  last1: 
  last2: 
  Lòr Reglilum, "Tool Gloved Hoisted"
  first: 
  last1: 
  last2: 
  Asmel Zedotfikod, "Merchant Lobster Glazed"
  first: 
  last1: 
  last2: 
  Lòr Tomusònul, "Tool Shoved Mirrors"
  first: 
  last1: 
  last2: 
  Monom Sodelsacat, "Paper Shield Dots"
  first: 
  last1: 
  last2: 
  Tekkud Sazirotam, "Pick Bridge Noses"
  first: 
  last1: 
  last2: 
  Fikod Tunomkadol, "Glaze Mortal Hatchets"
  first: 
  last1: 
  last2: 
  èrith Onolast, "Labor Mountain Sabres"
  first: 
  last1: 
  last2: 
  Oddom Likotiseth, "Cloister Ink Quested"
  first: 
  last1: 
  last2: 
  Asën Dakostemal, "Gravel Floor Sense"
  first: 
  last1: 
  last2: 
  Iden Oddomvúsh, "Paddle Cloister Heated"
  first: 
  last1: 
  last2: 

==ELVES==
  Lèma Ceralíceyi         "Hill Will-Petal"
  --Generated--
  Liceyi Sutheithafe,     "Petal Lesion-Fray"
  Nere Ipolacifa,        "Nere Utter-Large"
  Nifi Tiyiporelimi,     "Nifi Tactic-Martyr"
  Lulo Isifesluyi,       "Lulo Banded-Jaundice"
  Fuvi Menadirire,       "Fuvi Combined-Breaker"
  Cera Mobacuthe,         "Will Lurk-Ally"
  Moduve Tobafiali,      "Moduve Farm-Path"
==HUMANS==
  --Generated--
  Zin Smoroinid,          "Zin Squatlong"
  Ngekil Etusaru,         "Ngekil Dwellhead"
  Bir Gethdazatac,        "Bir Splatteredhate"
  Onust Imbotol,          "Onust Toneyear"
  Thabi Anothteshil,      "Thabi Godtalon"
  Ocba Juwogulco,         "Ocba Muckarch"
==GOBLINS==
  --Generated--
  Umsest Obmoklo,         "Umsest Frameache"
  Bungmo Obmunako,        "Bungmo Drabtorment"
  Smestre Xudomur,        "Smestre Slitpainful"
  Lospad Agkuduluz,       "Lospad Slowtreason"
  Zak Ngasmaal,           "Zak Pleatedstop"
  Rodaz Osnusmlomu,       "Rodaz Stenchdiminished"
  Dozo Utostxoxo,         "Dozo Moleyoung"                         

              ------------------------
              RULES FOR CHOOSING NAMES
              ------------------------

First Names are always nouns
Second Names are always two-word pairs and can be any combination of word types
  Noun-Noun, Adjective-Noun, and Verb-Noun appear to be the most common

Each race has its own sphere of names to pick from. These spheres are listed in language_SYM and the sphere rules are listed in entity_default. 
Dwarves pick from the ARTIFICE and EARTH group (231 possible names?) and their last names avoid use of the FLOWERY (and other culled) group

TAKEN FROM THE WIKI
  Dwarf first names come from a combination of symbol sets as defined in the raw file language_SYM.txt.
  175 Dwarf names = (ARTIFICE ∪ EARTH) \ (DOMESTIC ∪ FLOWERY ∪ NEGATOR ∪ NEGATIVE ∪ UGLY ∪ EVIL) 
  First names also need to have [THE_NOUN_SING] in their language_words.txt entry. This filters out an additional 10, leaving a total of 165 valid names.[1]
  Valid Names:
    Aban 	Adil 	Alåth 	Amost 	Asmel 	Asob 	Ast 	Astesh 	Asën 	Athel Atír 	Atîs 	Avuz 	Ber 	Besmar 	Bim 	Bomrek 	Bëmbul 	Catten 	Cerol Cilob 	Cog 	Dakost 	Dastot 	Datan 	Deduk 	Degël 	Deler 	Dodók 	Domas Doren 	Ducim 	Dumat 	Dumed 	Dîshmab 	Dôbar 	Edzul 	Edëm 	Endok 	Eral Erib 	Erush 	Eshtân 	Etur 	Fath 	Feb 	Fikod 	Geshud 	Goden 	Id Iden 	Ilral 	Imush 	Ineth 	Ingish 	Inod 	Kadol 	Kadôl 	Kel 	Kib Kikrost 	Kivish 	Kogan 	Kogsak 	Kol 	Kosoth 	Kulet 	Kumil 	Kûbuk 	Led Libash 	Likot 	Limul 	Litast 	Logem 	Lokum 	Lolor 	Lorbam 	Lòr 	Mafol Mebzuth 	Medtob 	Melbil 	Meng 	Mestthos 	Minkot 	Mistêm 	Moldath 	Momuz 	Monom Mosus 	Mörul 	Mûthkat 	Nil 	Nish 	Nomal 	Obok 	Oddom 	Olin 	Olon Onget 	Onol 	Rakust 	Ral 	Reg 	Rigòth 	Rimtar 	Rith 	Rovod 	Rîsen Sarvesh 	Sazir 	Shem 	Shorast 	Sibrek 	Sigun 	Sodel 	Solon 	Stinthäd 	Stodir Stukos 	Stâkud 	Såkzul 	Tekkud 	Thob 	Tholtig 	Thîkut 	Tirist 	Tobul 	Tosid Tulon 	Tun 	Ubbul 	Udib 	Udil 	Unib 	Urdim 	Urist 	Urvad 	Ushat Ustuth 	Uvash 	Uzol 	Vabôk 	Vucar 	Vutok 	Zan 	Zaneg 	Zas 	Zasit Zefon 	Zon 	Zuglar 	Zulban 	Zuntîr 	Zutthan 	Äs 	Åblel 	Èrith 	Èzum Îton 	Ïngiz 	Ïteb 	Ònul 	Ùshrir 
  Epithets
    When a creature scores five notable kills (typically creatures belonging to a civilization, but also any creature that has scored a notable kill itself), it is given an epithet by its civilization. The epithet is most often two names, but can also occasionally be one, though each of these names can be a compound word. The words appear to be selected somewhat randomly, leading to epithets that translate as gibberish such as "the Hardy Ring-Cobra of Dashing". On occasion, the epithet can be surprisingly apt. The epithet is translated in the same places the creature's second name is translated.
  Animal and megabeast names
    Animals who are not pets can gain a name by acquiring notable kills or becoming an enemy of a civilization. The language of the animal's name is determined by the civilization that named it, though the relationship is not always straightforward--a wild crundle that kills an elven-named forgotten beast at a dwarven site may receive an elven name, for instance. Most animals who acquire a name in world generation do not ever acquire additional ones, though it is possible. Animals can acquire multiple names more frequently either in fortress mode by killing your dwarves, invaders, or uninvited guests, or in adventurer mode by killing your adventurers or members of their parties.
    Megabeasts acquire names in an unusual fashion. Unlike other creatures, they do not have a parent civilization. However, all megabeasts have at least one name and typically have more, up to four. Megabeasts appear to gain their original names from the first civilization they have contact with, and in most cases gain epithets from conflict with others. Megabeasts with only one or two names have likely led uneventful lives.
  Other names
    On occasion, your dwarves will decide to give names to the creatures inhabiting the area around a fortress. It appears that only creatures who can talk will get names; additionally, the creature must remain on the map for an extended period of time, usually limiting the namings to creatures that inhabit chasms, bottomless pits, underground rivers, and underground pools. However, any creature that can speak, such as a snailman who has become stuck in a ditch, can be given a name. Other than that, the impetus for naming creatures is murky. Some creatures are named after only a few seasons, while others may go unnamed for decades. It may be that a creature must be in the preferences of a dwarf to receive a name, or the naming may occur randomly.
    Trees near elven settlements may also be named, though this currently has no known effect. 

ALL VALID TOKENS (for entities, not sites or battles):
    "flowery", "nature", "primitive", "holy", "evil", "negator", "magic", "violent", "peace", "ugly", "death", "old", "subordinate", "leader", "new", "domestic", "mythic", "artifice", "color", 
    "mystery", "negative", "romantic", "assertive", "aquatic", "protect", "restrain", "thought", "wild", "earth", "good", "balance", "boundary", "dance", "darkness", "light", "order", "festival", 
    "family", "fire", "food", "freedom", "games", "luck", "music", "sky", "silence", "trade", "travel", "truth", "wealth"

DWARVES:
  PREFERRED:  "artifice", "earth"
  FORBIDDEN:  "domestic", "subordinate", "evil", "flowery", "negative", "ugly", "negator"

HUMANS:
  PREFERRED:  Humans pick from the entire naming pool
  FORBIDDEN:  "subordinate", "evil", "negative", "ugly", "negator"

// EPITHETS //

Cacame Awemedinade Monípalóthi
  Base Name: Cacame Awemedinade
  Translated: Pelt Ape Balded
? Pools: Nature Nature NONE
  Epithet: Monípalóthi
  Translated: Immortal Onslaught
? Pools: Holy/Mythic Violent/Wild

Tholtig Momuzidek Lelumdoren
  Base Name: Tholtig Momuzidek
  Translated: Barricade Crypt Brain
? Pools: Artifice Artifice Leader/Thought
  Epithet: Lelumdoren
  Translated: Wane Diamond
? Pools: NONE Earth

Deduk Besmarzokun Arek Tath
  Base Name: Deduk Besmarzokun
  Translated: DEDUK Pulley Sieges
  Epithet: Arek Tath
  Translated: the Church of Dusk"